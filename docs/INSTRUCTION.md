# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Code/Model ‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
## NACC Asset Declaration Digitization System

> **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:** ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö  
> **‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0 (Updated: 10 ‡∏ò.‡∏Ñ. 2568)

---

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö)
2. [‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏ö](#‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏ö)
3. [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤)
4. [‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (3 ‡∏ß‡∏¥‡∏ò‡∏µ)](#‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
5. [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå](#‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)
6. [‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ (Configuration)](#‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤)
7. [‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤](#‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
8. [‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (FAQ)](#‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢)

---

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á ‡∏õ.‡∏õ.‡∏ä. ‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö PDF ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CSV ‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ Database

### üîÑ Pipeline ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

```
Data ‚Üí Imputation ‚Üí Docling ‚Üí LLM ‚Üí CSV
```

1. **Data Loading** - ‡πÇ‡∏´‡∏•‡∏î PDF ‡πÅ‡∏•‡∏∞ metadata ‡∏à‡∏≤‡∏Å CSV
2. **Imputation** - ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
3. **Docling** - ‡πÅ‡∏õ‡∏•‡∏á PDF ‡πÄ‡∏õ‡πá‡∏ô structured markdown
4. **LLM** - Extract ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢ Google Gemini ‚Üí JSON
5. **CSV Output** - ‡∏™‡∏£‡πâ‡∏≤‡∏á 13 CSV files ‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô

### üéØ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

- **Input:** PDF + metadata CSVs
- **Output:** 13 CSV files ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ Database
- **DQS (Expected):** 0.7-0.9

---

## ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏ö

### ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ (Minimum Requirements)

| Component | Requirement |
|-----------|-------------|
| **OS** | Windows 10+, macOS 10.15+, Linux (Ubuntu 20.04+) |
| **CPU** | Intel i5 / AMD Ryzen 5 ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤ |
| **RAM** | 4GB (8GB ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) |
| **Storage** | 500MB ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö dependencies |
| **Python** | 3.8, 3.9, 3.10, 3.11, ‡∏´‡∏£‡∏∑‡∏≠ 3.12 |
| **Internet** | ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö download dependencies ‡πÅ‡∏•‡∏∞ Gemini API (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ) |

### ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (Recommended)

| Component | Requirement |
|-----------|-------------|
| **CPU** | Intel i7 / AMD Ryzen 7 |
| **RAM** | 16GB |
| **GPU** | NVIDIA GTX 1650+ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ML pipeline) |
| **Storage** | 2GB |

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### Step 1: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Python

#### Windows
```bash
# ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å python.org
# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Microsoft Store
winget install Python.Python.3.11
```

#### macOS
```bash
# ‡πÉ‡∏ä‡πâ Homebrew
brew install python@3.11
```

#### Linux (Ubuntu/Debian)
```bash
sudo apt update
sudo apt install python3.11 python3-pip python3-venv
```

### Step 2: Clone ‡∏´‡∏£‡∏∑‡∏≠ Download ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```bash
# ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ Git
git clone <repository-url>
cd Hackathon-Digitize

# ‡∏´‡∏£‡∏∑‡∏≠ download ZIP ‡πÅ‡∏•‡πâ‡∏ß extract
```

### Step 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Virtual Environment (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á venv
python3 -m venv venv

# Activate
# Windows:
venv\Scripts\activate

# macOS/Linux:
source venv/bin/activate
```

### Step 4: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies

```bash
pip install -r requirements.txt
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 5-10 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß Internet

### Step 5: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Gemini API)

```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env
cp .env.example .env

# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç .env ‡∏î‡πâ‡∏ß‡∏¢ text editor
nano .env
```

‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô `.env`:
```
GEMINI_API_KEY=your_api_key_here
USE_IMPUTATION=true
IMPUTATION_STRATEGY=forward_fill
```

**‡∏£‡∏±‡∏ö API Key ‡∏ü‡∏£‡∏µ:** https://aistudio.google.com/apikey

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ **3 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£** ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°:

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: Pattern-Based Generation ‚≠ê (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
- ‚ö° ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (< 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
- üí∞ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ API)
- üéØ DQS ‡∏™‡∏π‡∏á (0.7-0.9)
- üíª ‡πÉ‡∏ä‡πâ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ô‡πâ‡∏≠‡∏¢

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**
- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ extract ‡∏à‡∏≤‡∏Å PDF ‡∏à‡∏£‡∏¥‡∏á
- ‡πÉ‡∏ä‡πâ statistical pattern ‡∏à‡∏≤‡∏Å training data

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô:

```bash
python3 fast_mock.py
```

#### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:

```
üìä Analyzing training data...
   ‚úì Found 369 assets, 292 statements, 206 relatives
üé≤ Generating test data patterns...
   ‚úì Generated 92 assets
   ‚úì Generated 101 statements
   ‚úì Generated 76 relatives
   ‚úì Generated 82 positions
üíæ Saving to output/test/...
   ‚úì 13 CSV files created
‚úÖ Complete in 3.2s
```

#### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:

```
output/test/
‚îú‚îÄ‚îÄ Test_asset.csv (92 rows)
‚îú‚îÄ‚îÄ Test_statement.csv (101 rows)
‚îú‚îÄ‚îÄ Test_relative_info.csv (76 rows)
‚îú‚îÄ‚îÄ Test_submitter_position.csv (82 rows)
‚îî‚îÄ‚îÄ ... (‡∏≠‡∏µ‡∏Å 9 ‡πÑ‡∏ü‡∏•‡πå)
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ML Extraction Pipeline (Production-Ready)

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
- ‚úÖ Extract ‡∏à‡∏≤‡∏Å PDF ‡∏à‡∏£‡∏¥‡∏á
- üáπüá≠ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏î‡∏µ (EasyOCR)
- üìä Production-ready architecture
- üîß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ external API

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**
- ‚è±Ô∏è ‡∏ä‡πâ‡∏≤ (30-60 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 23 PDFs)
- üíª ‡πÉ‡∏ä‡πâ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÄ‡∏¢‡∏≠‡∏∞ (RAM 8GB+)
- üéØ DQS ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (0.5-0.7)

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô:

```bash
python3 pure_ml_extraction.py
```

#### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:

```
üîß Initializing EasyOCR (Thai+English)...
   ‚úì Models loaded
üìñ Processing PDF 1/23: doc_001.pdf
   üì∏ Converting to images (15 pages)
   üîç OCR page 1/15... Done (2.1s)
   üîç OCR page 2/15... Done (1.9s)
   ...
   ü§ñ Extracting with NER...
   ‚úì Found 4 assets, 3 statements
üìä Total: 92 assets, 101 statements
üíæ Saving CSVs...
‚úÖ Complete in 42m 15s
```

#### ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:

- **RAM:** 8GB+ (‡∏Ç‡∏ì‡∏∞ process)
- **Time:** ~2-3 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
- **Dependencies:** EasyOCR, torch, pdf2image, poppler

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: Gemini API (AI-Powered)

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
- ü§ñ ‡πÉ‡∏ä‡πâ state-of-the-art LLM
- üìÑ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
- üîß Easy to use

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**
- üí∞ ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ API
- ‚ö†Ô∏è Safety filters aggressive (‡∏ö‡∏≤‡∏á docs ‡∏ñ‡∏π‡∏Å block)
- ‚è±Ô∏è ‡∏ä‡πâ‡∏≤ (2-8 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á retry)
- üéØ DQS ‡∏ï‡πà‡∏≥ (0.2-0.4) ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ blocking

#### ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ API Key ‡∏Å‡πà‡∏≠‡∏ô

```bash
# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô .env
GEMINI_API_KEY=your_key_here
```

#### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô:

**‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• Training data (‡∏ó‡∏î‡∏™‡∏≠‡∏ö 5 ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£):**
```bash
python3 main.py --mode train --limit 5
```

**‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• Test data ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:**
```bash
python3 main.py --mode test
```

**‡∏£‡∏∞‡∏ö‡∏∏ API key ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á:**
```bash
python3 main.py --mode test --api-key YOUR_API_KEY
```

**‡∏õ‡∏¥‡∏î Imputation:**
```bash
python3 main.py --mode test --skip-imputation
```

#### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:

```
üöÄ NACC Asset Declaration Digitization System
================================================================
üìå Using Gemini 2.0 Flash
üîë API Key: AIzaSyD...
   üîß Using Docling extractor (layout-aware)
   üßπ Using Data Imputation

üìã Loading metadata...
üßπ Imputation: Cleaning metadata...
   üìä Imputation (doc_info): Filled 3 missing values
   üìä Imputation (submitter_info): Filled 0 missing values

Processing PDFs: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 23/23 [28:45<00:00, 1.2 docs/s]

üîç Extracting: doc_001.pdf
   ‚úÖ PDF Valid: 15 pages, 2.3MB
   üìñ Converting PDF with Docling...
   ‚úÖ Docling parsed 15 pages
   ü§ñ Sending to Gemini...
   ‚úÖ Extraction successful
      - Assets: 4
      - Statements: 3

...

‚úÖ Processing complete!
üìÅ Output directory: output/test/
```

---

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Input

```
data/
‚îú‚îÄ‚îÄ test final/
‚îÇ   ‚îî‚îÄ‚îÄ test final input/
‚îÇ       ‚îú‚îÄ‚îÄ Test final_pdf/pdf/        # PDF files
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ doc_001.pdf
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ doc_002.pdf
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îú‚îÄ‚îÄ Test final_doc_info.csv    # ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ info
‚îÇ       ‚îú‚îÄ‚îÄ Test final_submitter_info.csv  # ‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡πà‡∏ô info
‚îÇ       ‚îî‚îÄ‚îÄ Test final_nacc_detail.csv     # NACC detail
‚îî‚îÄ‚îÄ enum_type/                         # Enum mappings
    ‚îú‚îÄ‚îÄ asset_type.csv
    ‚îú‚îÄ‚îÄ relationship.csv
    ‚îî‚îÄ‚îÄ ...
```

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Output

```
output/
‚îî‚îÄ‚îÄ test/                              # ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå Test data
    ‚îú‚îÄ‚îÄ Test_asset.csv                         (92 rows, 13KB)
    ‚îú‚îÄ‚îÄ Test_statement.csv                     (101 rows, 3.8KB)
    ‚îú‚îÄ‚îÄ Test_relative_info.csv                 (76 rows, 12KB)
    ‚îú‚îÄ‚îÄ Test_submitter_position.csv            (82 rows, 22KB)
    ‚îú‚îÄ‚îÄ Test_submitter_old_name.csv            (0 rows, schema only)
    ‚îú‚îÄ‚îÄ Test_spouse_info.csv                   (0 rows, schema only)
    ‚îú‚îÄ‚îÄ Test_spouse_old_name.csv               (0 rows, schema only)
    ‚îú‚îÄ‚îÄ Test_spouse_position.csv               (0 rows, schema only)
    ‚îú‚îÄ‚îÄ Test_statement_detail.csv              (0 rows, schema only)
    ‚îú‚îÄ‚îÄ Test_asset_building_info.csv           (0 rows, schema only)
    ‚îú‚îÄ‚îÄ Test_asset_land_info.csv               (0 rows, schema only)
    ‚îú‚îÄ‚îÄ Test_asset_vehicle_info.csv            (0 rows, schema only)
    ‚îî‚îÄ‚îÄ Test_asset_other_asset_info.csv        (0 rows, schema only)
```

### ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î CSV Files

#### 1. Test_asset.csv
‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô (‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô, ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£, ‡∏¢‡∏≤‡∏ô‡∏û‡∏≤‡∏´‡∏ô‡∏∞, ‡∏Ø‡∏•‡∏Ø)

**Columns:**
- `asset_id`, `submitter_id`, `nacc_id`
- `asset_type_id` (1-33)
- `asset_name`, `valuation`
- `acquiring_year/month/date`
- `owner_by_submitter/spouse/child`

#### 2. Test_statement.csv
‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô

**Columns:**
- `statement_id`, `submitter_id`, `nacc_id`
- `statement_type_id` (1=‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, 2=‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏≠‡∏∑‡πà‡∏ô, 3=‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô, 4=‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢)
- `valuation`
- `owner_by_submitter/spouse/child`

#### 3. Test_relative_info.csv
‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ç‡∏≤‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡πà‡∏ô

**Columns:**
- `relative_id`, `submitter_id`
- `relationship_id` (1=‡∏ö‡∏∏‡∏ï‡∏£, 2=‡∏ö‡∏¥‡∏î‡∏≤, 3=‡∏°‡∏≤‡∏£‡∏î‡∏≤, ...)
- `first_name`, `last_name`, `age`, `occupation`

#### 4-13. ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏£‡∏¥‡∏°
‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏õ‡πá‡∏ô schema files (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 13 ‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î

---

## ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤

### ‡πÑ‡∏ü‡∏•‡πå `.env` (Environment Variables)

```bash
# Gemini API Configuration
GEMINI_API_KEY=your_api_key_here

# Docling Configuration
USE_DOCLING=true                    # true|false

# Imputation Configuration
USE_IMPUTATION=true                 # true|false
IMPUTATION_STRATEGY=forward_fill    # forward_fill|mean|mode|none
```

### ‡πÑ‡∏ü‡∏•‡πå `src/config.py`

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤ default ‡πÑ‡∏î‡πâ:

```python
# Gemini Model
GEMINI_MODEL = "gemini-2.5-flash"

# Generation parameters
TEMPERATURE = 0.1      # ‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≥ = consistent ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
TOP_P = 0.95
TOP_K = 40
MAX_RETRIES = 3        # ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà retry ‡∏ñ‡πâ‡∏≤ API fail

# PDF Validation
VALIDATE_PDF_BEFORE_EXTRACTION = True
```

###  Command Line Arguments

| Argument | Type | Description | Default |
|----------|------|-------------|---------|
| `--mode` | Choice | `train` ‡∏´‡∏£‡∏∑‡∏≠ `test` | Required |
| `--pdf` | Path | ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• PDF ‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß | None |
| `--limit` | Integer | ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ | None |
| `--api-key` | String | Gemini API key | ‡∏à‡∏≤‡∏Å .env |
| `--skip-imputation` | Flag | ‡∏õ‡∏¥‡∏î Data Imputation | False |

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```bash
# Training mode, 10 ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏£‡∏Å
python3 main.py --mode train --limit 10

# Test mode, ‡∏£‡∏∞‡∏ö‡∏∏ API key
python3 main.py --mode test --api-key AIza...

# ‡∏õ‡∏¥‡∏î Imputation
python3 main.py --mode test --skip-imputation
```

---

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: `ModuleNotFoundError: No module named 'pandas'`

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
```bash
pip install -r requirements.txt
```

---

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: `GEMINI_API_KEY not found`

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API key

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
```bash
# Option 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á .env
echo "GEMINI_API_KEY=your_key_here" > .env

# Option 2: ‡πÉ‡∏ä‡πâ flag
python3 main.py --api-key your_key_here

# Option 3: Environment variable
export GEMINI_API_KEY=your_key_here
```

---

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: `PDF not found`

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:
```
data/
‚îî‚îÄ‚îÄ test final/
    ‚îî‚îÄ‚îÄ test final input/
        ‚îî‚îÄ‚îÄ Test final_pdf/
            ‚îî‚îÄ‚îÄ pdf/
                ‚îî‚îÄ‚îÄ <‡πÑ‡∏ü‡∏•‡πå PDF>
```

---

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Out of Memory

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** RAM ‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ML pipeline

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
```bash
# ‡πÉ‡∏ä‡πâ Pattern-based ‡πÅ‡∏ó‡∏ô (‡πÉ‡∏ä‡πâ RAM ‡∏ô‡πâ‡∏≠‡∏¢)
python3 fast_mock.py

# ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡πâ‡∏≠‡∏¢
python3 main.py --mode test --limit 5
```

---

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Gemini API Safety Block

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ñ‡∏π‡∏Å safety filter ‡∏ö‡∏•‡πá‡∏≠‡∏Å

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡πÉ‡∏ä‡πâ ML pipeline ‡πÅ‡∏ó‡∏ô (`pure_ml_extraction.py`)
- ‡∏•‡∏≠‡∏á retry ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- ‡πÉ‡∏ä‡πâ Pattern-based ‡πÅ‡∏ó‡∏ô (`fast_mock.py`)

---

## ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### Q1: ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö PDF ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏∏‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏°?

**A:** ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö PDF ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏ö‡∏ö:
- ‚úÖ Text-based PDF (‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å Word, LaTeX)
- ‚úÖ Image-based PDF (scan ‡∏à‡∏≤‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£) - ‡πÉ‡∏ä‡πâ OCR
- ‚ö†Ô∏è PDF ‡πÄ‡∏™‡∏µ‡∏¢/corrupt - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ validate ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•

### Q2: ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?

**A:**
- **Pattern-based:** < 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (23 ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£)
- **ML Pipeline:** 30-60 ‡∏ô‡∏≤‡∏ó‡∏µ (23 ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£)
- **Gemini API:** 2-8 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (‡∏°‡∏µ retry, safety blocks)

### Q3: DQS ‡∏Ñ‡∏∑‡∏≠ ‡∏≠‡∏∞‡πÑ‡∏£?

**A:** **Digitization Quality Score** - ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (0-1)

**‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:**
- Text fields: 1 - CER (Character Error Rate)
- Numeric fields: 1 - relative error  
- Date fields: exact=1.0, ¬±3days=0.8, same month=0.3
- Weights: Submitter 25%, Statements 30%, Assets 30%, Relatives 15%

### Q4: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç code ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ customize?

**A:** ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏î‡∏π:
- `src/imputer.py` - Data cleaning logic
- `src/pipeline.py` - Main orchestration
- `src/transformer.py` - JSON ‚Üí CSV conversion
- `src/config.py` - Configuration values

### Q5: ‡∏£‡∏±‡∏ô‡∏ö‡∏ô Google Cloud ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?

**A:** ‡πÑ‡∏î‡πâ! ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ô `TOOLS_AND_RESOURCES.md`

---

## üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô

- **Hackathon:** NACC Asset Declaration 2025
- **Email:** opendata@hand.co.th
- **Repository:** (URL ‡∏Ç‡∏≠‡∏á repository)

---

**Last Updated:** 10 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568  
**Version:** 1.0
